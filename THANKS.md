Even though this is notionally a pretty simple script, I bumped up against
a load of bashisms that I clearly didn't know enough about.

 * [Poshi](https://stackoverflow.com/users/3000629/poshi) helped me [with a fifo issue](https://stackoverflow.com/questions/57605781/why-cant-i-read-the-results-of-piped-sql-from-a-fifo-in-bash/57606104#57606104)

 * [ilkkachu](https://unix.meta.stackexchange.com/users/170373/ilkkachu) helped with a [really weird job control issue](https://unix.stackexchange.com/questions/537022/why-does-this-bash-script-terminate-the-calling-process-when-it-ends)

 * This [question](https://stackoverflow.com/questions/5719030/bash-silently-kill-background-function-process/5722850) plus [Mark Edgar's](https://stackoverflow.com/users/129332/mark-edgar) and [Pix's](https://stackoverflow.com/users/195061/pix) answers to it, taught me a whole load about silently killing background processes.
